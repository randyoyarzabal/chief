# Chief v3.1.4-dev Release Notes

## ðŸš€ What's New

### ðŸ”§ SSH Key Loading Improvements

- **Fixed**: SSH key loading on Linux systems - resolved "Could not open a connection to your authentication agent" error
- **Improved**: SSH agent detection and startup logic for Linux
- **Simplified**: SSH agent management using standard `eval "$(ssh-agent -s)"` approach
- **Enhanced**: `chief.reload` now properly reloads SSH keys if `CHIEF_CFG_SSH_KEYS_PATH` is configured
- **Added**: `chief.ssh_status` function to diagnose SSH agent and key loading issues
- **Improved**: Error reporting in SSH key loading with detailed error messages
- **Enhanced**: SSH key loading supports multiple file patterns:
  - `*.key` (Chief preferred naming)
  - `*.private` (legacy support)
  - Standard SSH keys (`id_rsa`, `id_ed25519`, etc.) are automatically used by SSH clients
- **Fixed**: SSH agent reuse - existing agents are properly detected and reused
- **Removed**: Overcomplicated SSH environment file management in favor of simpler approach

## ðŸ“‹ Upgrade Notes

### For Users

- **SSH Key Loading**: The `CHIEF_CFG_SSH_KEYS_PATH` feature now works reliably on Linux systems
- **New Command**: Use `chief.ssh_status` to check SSH agent status and diagnose key loading issues
- **Key Naming**: Ensure custom SSH keys use `.key` or `.private` extensions for automatic loading

### For Developers

- SSH agent management simplified - no longer relies on environment files
- More robust SSH key loading with better error handling and debugging output

---

**Full details**: See [release-notes](../release-notes/) directory for complete changelog and version history.
